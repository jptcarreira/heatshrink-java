plugins {
	id "java"
	id "jacoco"
	id 'maven-publish'
	id 'com.github.kt3k.coveralls' version '2.6.3'
	id "com.jfrog.bintray" version "1.7"
}

repositories {
	mavenLocal()
	mavenCentral()
	jcenter()
}

group = 'com.github.markrileybot.heatshrink'
version = '0.0.2-SNAPSHOT'

dependencies {
    compile 'org.slf4j:slf4j-api:1.7.21'
    testCompile 'junit:junit:4.12'
    testCompile 'commons-io:commons-io:2.5'
    testCompile files(sourceSets.test.resources.srcDirs)
}

jacocoTestReport {
	reports {
		xml.enabled = true // coveralls plugin depends on xml format report
		html.enabled = true
	}
}

publishing {
    publications {
        MyPublication(MavenPublication) {
            from components.java
        }
    }
}

bintray {
    user = 'markrileybot'
	key = System.getenv('BINTRAY_KEY')
	publications = ['MyPublication']
	pkg {
		repo = 'markrileybot'
		name = project.name
		userOrg = 'mrileybot'
	}
}

